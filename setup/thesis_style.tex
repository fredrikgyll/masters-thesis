% Bump PDF version 1.5 -> 1.7
\pdfminorversion=7
% Specify UTF-8 encoding
\usepackage[utf8]{inputenc}
% Handle multi-glyph characters in the output PDF correctly
\usepackage[T1]{fontenc}
% Main font with math support
\usepackage[charter,cal=cmcal]{mathdesign}
\usepackage{XCharter}
% Sans serif font
\usepackage[scaled=.88]{berasans}
% Monospace font (for code)
\usepackage[scaled=.82]{DejaVuSansMono}
% Mathematical typesetting
\usepackage{amsmath}
% Extra maths fonts
%\usepackage{amsfonts}
% improved typography
\usepackage[babel]{microtype}
% Bibliography
\usepackage[english]{babel}
\usepackage{csquotes}
\usepackage[backend=biber,style=bwl-FU,bibstyle=authoryear]{biblatex}
% No indent on new paragraphs
\usepackage{parskip}
% Colored text etc.
\usepackage[pdftex,dvipsnames]{xcolor}
% To include graphics
\usepackage{graphicx}
% Draw graphics
\usepackage{tikz}
% Repositioning floats
\usepackage{float}
% wrap text around figure
\usepackage{wrapfig}
% Fine-tuning float captions
\usepackage{caption}
\usepackage{subcaption}
% More date formats
\usepackage{datetime}
% Nice header and footer
\usepackage{fancyhdr}
% change section headings
\usepackage{titlesec}
% SI unit support
\usepackage{siunitx}
% Controlling margins and paper size
% for print: [a4paper,top=1.5in,bottom=1.5in,right=1.3in,left=1.7in]
% for net: [a4paper,margin=1.5in]
\usepackage[a4paper,margin=1.5in]{geometry}
% Nice tables
\usepackage{booktabs}
\usepackage{array}
% PDF hyperlink
\usepackage{hyperref}
% footnotes
\usepackage[bottom]{footmisc}
% \leftbar in pseudocode
\usepackage{framed}
% absolute positioning of text
\usepackage{textpos}
% Custom list formatting, such as noitemsep and label
\usepackage{enumitem}
% Itemize and enumerate: tighter and with other symbols
\setlist[enumerate]{itemsep=0mm, topsep=5pt, partopsep=0mm, parsep=0mm}
\setlist[enumerate,1]{label=\arabic*., ref=\arabic*}
\setlist[enumerate,2]{label=\alph*., ref=\alph*}
\setlist[enumerate,3]{label=\roman*., ref=\roman*}
\setlist[itemize]{itemsep=0mm, topsep=5pt, partopsep=0mm, parsep=0mm}
\setlist[itemize,1]{label=\(\bullet \)}
\setlist[itemize,2]{label=\(\circ \)}
\setlist[itemize,3]{label=\(-\)}

\setlength{\headheight}{14pt}

%Chapter headings
\fancypagestyle{plain}{%
 \fancyhf{}
 \fancyhead[LE]{\thepage}
 \fancyhead[RO]{\thepage}
 \fancyfoot[C]{}
 \renewcommand{\headrulewidth}{0.5pt}}

\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE,RO]{\thepage}
\fancyhead[RE]{\rightmark}
\fancyhead[LO]{\leftmark}
\renewcommand{\sectionmark}[1]{\markright{\thesection~#1}}
\renewcommand{\chaptermark}[1]{\markboth{\thechapter~#1}{}}

% Graphics path
\graphicspath{{./figs/}}

% Colors
\definecolor{nicegray}{gray}{.25}
\definecolor{nicegraylink}{gray}{.20}
\definecolor{nicegreen}{HTML}{0F7F12}
\definecolor{nicepink}{HTML}{ff6eb4}
\definecolor{poaceae}{HTML}{1f77b4}
\definecolor{corylus}{HTML}{ff7f0e}
\definecolor{alnus}{HTML}{2ca02c}

% Author
\newcommand{\thesisAuthor}{Fredrik Gyllenhammar}
\newcommand{\thesisTitle}{Automated Pollen-Grain Counting}
\newcommand{\thesisType}{Master's thesis}
\newcommand{\thesisDate}{June 2021}

% Table command for row spacing
\newcommand{\ra}[1]{\renewcommand{\arraystretch}{#1}}

% Declare caption font "hyper color" which sets the color of the hyper links
\DeclareCaptionFont{hypercolor}{%
\hypersetup{%
  citecolor={#1},%
  linkcolor={#1},%
  urlcolor={#1}%
}%
}
\captionsetup{labelfont=bf,textfont={color=nicegray,hypercolor=nicegraylink},margin=\parindent}

% Hyperlink setup
\hypersetup{
    pdfauthor=\thesisAuthor,
    pdftitle=\thesisTitle,
    pdfsubject=\thesisType,
    linkcolor=black,
    citecolor=black,
    urlcolor=black,
    linktocpage=true,
    colorlinks=true,
}

% Siunitx
\DeclareSIUnit\pixel{pixel}

% Heading format
%\titleformat{\chapter}{\bfseries\LARGE}{\thechapter}{1em}{}
\titleformat*{\section}{\Large\bfseries}
\titleformat{\subsection}{\large\bfseries}{\thesubsection}{1em}{}

\titlespacing*{\chapter}{0cm}{2in}{1ex}

% Bibliography

\addbibresource{bibtex/zotero.bib}
\setcounter{biburllcpenalty}{7000}
\setcounter{biburlucpenalty}{8000}

%\frenchspacing

% Environments
\newcommand{\by}{\!\times \!}
\newcommand{\ckm}{\checkmark}
\newcommand{\var}[1]{\text{Var}\left[#1\right]}
\newcommand{\mean}[1]{\text{E}\left[#1\right]}


\setlength\OuterFrameSep{10pt}
\setlength{\FrameSep}{0pt}

% Quick and dirty pseudocode which does not deserve the algorithm environment

\newenvironment{pseudoloop}[0]
{%
  \begin{itemize}[nosep,label=,leftmargin=1em]
}
{%
  \end{itemize}
}
\newenvironment{pseudofunc}[2]
{%
  \leftbar\vspace{-0.5em}
  def \textbf{\texttt{#1}}(#2): % chktex 36
  \begin{pseudoloop}
}
{%
  \end{pseudoloop}
  \endleftbar\vspace{-1em}
}
\newcommand{\pmethod}[2]{\texttt{#1(#2)}}
\newcommand{\parg}[2]{\(\texttt{#1}=#2\)}
\newcommand{\pif}{\textbf{if}}
\newcommand{\pwhile}{\textbf{while}}
\newcommand{\pfor}{\textbf{for}}
\newcommand{\pret}{\textbf{return}}
